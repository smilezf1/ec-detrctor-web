webpackJsonp([16],{"8Ufv":function(t,e){},YpA7:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Xxa5"),o=r.n(a),l=r("exGp"),i=r.n(l),p=r("47tL"),s=r("NBFj"),n=r("z4xJ"),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{"current-page":this.curPage,"page-sizes":[10,20,30,40,50],"page-size":this.pageSize,total:this.total,layout:"total,sizes,prev,pager,next,jumper"},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)},staticRenderFns:[]},c=(r("VU/8")({name:"pagination",inject:["pagination"],watch:{pagination:{deep:!0,handler:function(t){if(t){var e=t.pageSize,r=t.total,a=t.curPage;this.pageSize=e,this.total=r,this.curPage=a}}}},data:function(){return{pageSize:10,curPage:1,total:0}},methods:{emitPaginationChangeInfo:function(){var t={pageSize:this.pageSize,curPage:this.curPage};this.$emit("pageChanged",t)},handleSizeChange:function(t){var e=this.total/t+1<this.curPage;this.pageSize=t,e||this.emitPaginationChangeInfo()},handleCurrentChange:function(t){this.curPage=t,this.emitPaginationChangeInfo()}}},d,!1,null,null,null).exports,{name:"reportConfigureManagement",inject:["reload"],components:{pagination:s.a},mixins:[n.a],data:function(){return{ruleForm:{reportTitle:""},addReportStrategyDrawer:!1,reportStrategyDetailDrawer:!1,editReportStrategyDrawer:!1,reportStrategyDetailList:null,reportStrategyForm:{templateType:1,reportCorporateName:"",reportName:"",reportTitle:"",reportHeaderLogo:"",reportFooterLogo:"",reportCoverLogo:"",reportWatermarkLogo:"",templateId:""},rules:{templateType:{required:!0,message:"请选择模板类型",trigger:"blur"},templateId:{required:!0,message:"请选择报告模板类型",trigger:"blur"},reportCorporateName:{required:!0,message:"请输入公司名称",trigger:"blur"},reportName:{required:!0,message:"请输入报告名称",trigger:"blur"},reportTitle:{required:!0,message:"请输入报告标题",trigger:"blur"}},loading:!1,listItem:[],curpage:1,limit:10,reportTemplateList:[],templateType:1}},computed:{getAuthorization:function(){return localStorage.getItem("Authorization")}},created:function(){this.getData()},methods:{getData:function(){var t=this;return i()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r={}).queryInfo=t.ruleForm,t.getReportStrategyList(t.addPageInfo(r));case 3:case"end":return e.stop()}},e,t)}))()},getReportStrategyList:function(t){var e=this;p.a.systemService.getReportStrategyList(t).then(function(r){var a=r.data.count,o=t.pn,l=t.limit;e.listItem=r.data.items,e.curpage=o,e.limit=l,e.onGotPageData({totalElements:a,size:l,number:o})})},getReportTemplateList:function(t){var e=this;p.a.systemService.getReportTemplateList(t).then(function(t){e.reportTemplateList=t.data})},uploadTaskFile:function(t,e,r){var a=new FormData,o=this;a.append("file",t.file),p.a.uploadService.uploadReportConfigurationFile(a).then(function(t){o.setFileKey(e,t.data.fileKey,r)})},setFileKey:function(t,e,r){"add"==r?this.$set(this.reportStrategyForm,t,e):"edit"==r&&this.$set(this.reportStrategyDetailList,t,e)},handleExceed:function(t,e){this.$message.warning("最多只能上传一个文件!")},search:function(t){var e=this,r={};r.queryInfo=t,this.loading=!0,this.addPageInfo(r),this.getReportStrategyList(r),setTimeout(function(){e.loading=!1},500)},refresh:function(){this.reload()},addReportStrategy:function(){this.addReportStrategyDrawer=!0;var t={templateType:this.templateType};this.getReportTemplateList(t)},handleRadioChange:function(){var t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],r={templateType:t};this.getReportTemplateList(r),"add"==e?this.reportStrategyForm.templateId="":"edit"==e&&(this.reportStrategyDetailList.templateId="")},saveAddReportStrategy:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var r=e.reportStrategyForm;p.a.systemService.saveOrUpdateReportStrategy(r).then(function(t){"00"==t.code&&(e.addReportStrategyDrawer=!1,e.$notify({message:"新增报告策略成功!",type:"success",duration:1e3}),e.reload())})})},cancelAddReportStrategy:function(t){this.addReportStrategyDrawer=!1,this.reload()},getReportDetail:function(t){var e=this;p.a.systemService.getReportStrategyDetail(t).then(function(t){if("00"==t.code){e.reportStrategyDetailList=t.data;var r={templateType:e.reportStrategyDetailList.templateType};e.getReportTemplateList(r)}})},reportDetail:function(t){this.reportStrategyDetailDrawer=!0,this.getReportDetail(t)},deleteReport:function(t){var e=this;new this.$messageTips(function(t){(0,t.confirm)({content:"确定要删除该报告策略?"})}).then(function(r){p.a.systemService.deleteReportTemplate(t).then(function(t){"00"==t.code&&(e.$message({type:"success",message:"删除成功"}),e.reload())})})},cancelReportDetail:function(){this.reportStrategyDetailDrawer=!1},editReportStrategy:function(t){this.editReportStrategyDrawer=!0,this.getReportDetail(t)},saveEditReportStrategy:function(t){var e=this,r=this.reportStrategyDetailList,a={id:r.id,reportCorporateName:r.reportCorporateName,reportCoverLogo:r.reportCoverLogo,reportFooterLogo:r.reportFooterLogo,reportHeaderLogo:r.reportHeaderLogo,reportName:r.reportName,reportTitle:r.reportTitle,reportWatermarkLogo:r.reportWatermarkLogo,templateId:r.templateId,templateType:r.templateType};this.$refs[t].validate(function(t,r){if(!t)return!1;p.a.systemService.saveOrUpdateReportStrategy(a).then(function(t){"00"==t.code&&(e.$notify({message:"编辑报告策略成功!",type:"success",duration:1e3}),e.editReportStrategyDrawer=!1,e.reload())})})},cancelEditReportStrategy:function(){this.editReportStrategyDrawer=!1}}}),g={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"reportConfigureManagement"},[t._m(0),t._v(" "),r("div",{staticClass:"searchForm"},[r("div",{staticClass:"searchBox"},[r("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm}},[r("el-input",{attrs:{placeholder:"请输入报告名称",size:"small"},model:{value:t.ruleForm.reportTitle,callback:function(e){t.$set(t.ruleForm,"reportTitle",e)},expression:"ruleForm.reportTitle"}})],1)],1),t._v(" "),r("div",{staticClass:"operateBox"},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.search(t.ruleForm)}}},[t._v("查询")]),t._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addReportStrategy()}}},[t._v("新增报告策略")]),t._v(" "),r("el-drawer",{staticClass:"addReportStrategyDrawer",attrs:{title:"新增报告策略",visible:t.addReportStrategyDrawer,"with-header":!1,wrapperClosable:!1,"close-on-press-esape":!1,"destroy-on-close":!0,size:"40%"},on:{"update:visible":function(e){t.addReportStrategyDrawer=e}}},[r("div",{staticClass:"el-drawer-header"},[r("h3",[t._v("新增报告策略")])]),t._v(" "),r("div",{staticClass:"el-drawer-content"},[r("el-form",{ref:"reportStrategyForm",attrs:{model:t.reportStrategyForm,rules:t.rules}},[r("el-form-item",{attrs:{prop:"templateType"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("模板类型:")]),t._v(" "),r("el-radio-group",{on:{change:function(e){return t.handleRadioChange(e,"add")}},model:{value:t.reportStrategyForm.templateType,callback:function(e){t.$set(t.reportStrategyForm,"templateType",e)},expression:"reportStrategyForm.templateType"}},[r("el-radio",{attrs:{label:1}},[t._v("Android")]),t._v(" "),r("el-radio",{attrs:{label:2}},[t._v("iOS")])],1)],1),t._v(" "),r("el-form-item",{attrs:{prop:"templateId"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告模板:")]),t._v(" "),r("el-radio-group",{staticStyle:{"margin-top":"13px"},model:{value:t.reportStrategyForm.templateId,callback:function(e){t.$set(t.reportStrategyForm,"templateId",e)},expression:"reportStrategyForm.templateId"}},t._l(t.reportTemplateList,function(e){return r("el-radio",{key:e.id,staticStyle:{"margin-bottom":"20px"},attrs:{label:e.id}},[t._v(t._s(e.templateName))])}),1)],1),t._v(" "),r("el-form-item",{attrs:{prop:"reportName"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告名称:")]),t._v(" "),r("el-input",{attrs:{size:"small"},model:{value:t.reportStrategyForm.reportName,callback:function(e){t.$set(t.reportStrategyForm,"reportName",e)},expression:"reportStrategyForm.reportName"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"reportCorporateName"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("公司名称:")]),t._v(" "),r("el-input",{attrs:{size:"small"},model:{value:t.reportStrategyForm.reportCorporateName,callback:function(e){t.$set(t.reportStrategyForm,"reportCorporateName",e)},expression:"reportStrategyForm.reportCorporateName"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"reportTitle"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告标题:")]),t._v(" "),r("el-input",{attrs:{size:"small"},model:{value:t.reportStrategyForm.reportTitle,callback:function(e){t.$set(t.reportStrategyForm,"reportTitle",e)},expression:"reportStrategyForm.reportTitle"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"reportHeaderLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("  报告页眉:")]),t._v(" "),t.reportStrategyForm.reportHeaderLogo?[r("img",{staticStyle:{width:"70%"},attrs:{src:this.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyForm.reportHeaderLogo+"?Authorization="+t.getAuthorization}}),t._v(" "),r("el-upload",{ref:"upload",attrs:{action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportHeaderLogo","add")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("div",{staticClass:"amendUploadImageBtn"},[r("span",[t._v("修改")])])])]:r("el-upload",{ref:"upload",attrs:{drag:"",action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportHeaderLogo","add")},limit:1,"list-type":"picture","on-exceed":t.handleExceed,accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF"}},[r("i",{staticClass:"el-icon-upload"}),t._v(" "),r("div",{staticClass:"el-upload__text"},[t._v("\n                  建议分辨率221*55 "),r("em",[t._v("点击上传")])])])],2),t._v(" "),r("el-form-item",{attrs:{prop:"reportFooterLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("  报告页脚:")]),t._v(" "),t.reportStrategyForm.reportFooterLogo?[r("img",{staticStyle:{width:"70%"},attrs:{src:this.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyForm.reportFooterLogo+"?Authorization="+t.getAuthorization}}),t._v(" "),r("el-upload",{ref:"upload",attrs:{action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportFooterLogo","add")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("div",{staticClass:"amendUploadImageBtn"},[r("span",[t._v("修改")])])])]:r("el-upload",{ref:"upload",attrs:{drag:"",action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportFooterLogo","add")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("i",{staticClass:"el-icon-upload"}),t._v(" "),r("div",{staticClass:"el-upload__text"},[t._v("\n                  建议分辨率267*26 "),r("em",[t._v("点击上传")])])])],2),t._v(" "),r("el-form-item",{attrs:{prop:"reportCoverLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("  首页logo:")]),t._v(" "),t.reportStrategyForm.reportCoverLogo?[r("img",{staticStyle:{width:"70%"},attrs:{src:this.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyForm.reportCoverLogo+"?Authorization="+t.getAuthorization}}),t._v(" "),r("el-upload",{ref:"upload",attrs:{action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportCoverLogo","add")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("div",{staticClass:"amendUploadImageBtn"},[r("span",[t._v("修改")])])])]:r("el-upload",{ref:"upload",attrs:{drag:"",action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportCoverLogo","add")},"list-type":"picture",limit:1,accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF"}},[r("i",{staticClass:"el-icon-upload"}),t._v(" "),r("div",{staticClass:"el-upload__text"},[t._v("\n                  建议分辨率321*210 "),r("em",[t._v("点击上传")])])])],2),t._v(" "),r("el-form-item",{attrs:{prop:"reportWatermarkLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("  报告水印:")]),t._v(" "),t.reportStrategyForm.reportWatermarkLogo?[r("img",{staticStyle:{width:"70%"},attrs:{src:this.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyForm.reportWatermarkLogo+"?Authorization="+t.getAuthorization}}),t._v(" "),r("el-upload",{ref:"upload",attrs:{action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportWatermarkLogoo","add")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("div",{staticClass:"amendUploadImageBtn"},[r("span",[t._v("修改")])])])]:r("el-upload",{ref:"upload",attrs:{drag:"",action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportWatermarkLogo","add")},"list-type":"picture",limit:1,accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF"}},[r("i",{staticClass:"el-icon-upload"}),t._v(" "),r("div",{staticClass:"el-upload__text"},[t._v("\n                  建议分辨率800*600 "),r("em",[t._v("点击上传")])])])],2)],1)],1),t._v(" "),r("div",{staticClass:"el-drawer-footer"},[r("div",{staticClass:"buttonBox",staticStyle:{display:"inline-block"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveAddReportStrategy("reportStrategyForm")}}},[t._v("保存")]),t._v(" "),r("el-button",{attrs:{plain:""},on:{click:function(e){return t.cancelAddReportStrategy("reportStrategyForm")}}},[t._v("取消")])],1)])]),t._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.refresh()}}},[t._v("刷新")])],1)]),t._v(" "),r("div",{staticClass:"reportConfigureManagementBody"},[[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.listItem,"element-loading-text":"加载中"}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),r("el-table-column",{attrs:{prop:"report_name",label:"报告名称",width:"250"}}),t._v(" "),r("el-table-column",{attrs:{prop:"report_corporate_name",label:"公司名称",width:"250"}}),t._v(" "),r("el-table-column",{attrs:{prop:"report_title",label:"报告标题",width:"250"}}),t._v(" "),r("el-table-column",{attrs:{prop:"template_id",label:"策略模板类型",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.template_id?r("span",[t._v("Android")]):t._e(),t._v(" "),"2"==e.row.template_id?r("span",[t._v("iOS")]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"250"}}),t._v(" "),r("el-table-column",{attrs:{prop:"operate",label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[r("i",{staticClass:"el-icon-edit-outline editIcon",on:{click:function(r){return t.editReportStrategy(e.row.id)}}})]),t._v(" "),r("el-drawer",{staticClass:"editReportStrategyDrawer",attrs:{title:"编辑报告策略",visible:t.editReportStrategyDrawer,"with-header":!1,wrapperClosable:!1,"close-on-press-escape":!1,"destroy-on-close":!0,size:"40%"},on:{"update:visible":function(e){t.editReportStrategyDrawer=e}}},[r("div",{staticClass:"el-drawer-header"},[r("h3",[t._v("编辑报告策略")])]),t._v(" "),r("div",{staticClass:"el-drawer-content"},[t.reportStrategyDetailList?[r("el-form",{ref:"reportStrategyDetailList",attrs:{model:t.reportStrategyDetailList,rules:t.rules}},[r("el-form-item",{attrs:{prop:"templateType"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("模板类型")]),t._v(" "),r("el-radio-group",{on:{change:function(e){return t.handleRadioChange(e,"edit")}},model:{value:t.reportStrategyDetailList.templateType,callback:function(e){t.$set(t.reportStrategyDetailList,"templateType",e)},expression:"reportStrategyDetailList.templateType"}},[r("el-radio",{attrs:{label:1}},[t._v("Android")]),t._v(" "),r("el-radio",{attrs:{label:2}},[t._v(" iOS")])],1)],1),t._v(" "),r("el-form-item",{attrs:{prop:"templateId"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告模板:")]),t._v(" "),r("el-radio-group",{staticStyle:{"margin-top":"13px"},model:{value:t.reportStrategyDetailList.templateId,callback:function(e){t.$set(t.reportStrategyDetailList,"templateId",e)},expression:"reportStrategyDetailList.templateId"}},t._l(t.reportTemplateList,function(e){return r("el-radio",{key:e.id,staticStyle:{"margin-bottom":"20px"},attrs:{label:e.id}},[t._v(t._s(e.templateName))])}),1)],1),t._v(" "),r("el-form-item",{attrs:{prop:"reportCorporateName"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("公司名称:")]),t._v(" "),r("el-input",{attrs:{size:"small"},model:{value:t.reportStrategyDetailList.reportCorporateName,callback:function(e){t.$set(t.reportStrategyDetailList,"reportCorporateName",e)},expression:"reportStrategyDetailList.reportCorporateName"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"reportName"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告名称:")]),t._v(" "),r("el-input",{attrs:{size:"small"},model:{value:t.reportStrategyDetailList.reportName,callback:function(e){t.$set(t.reportStrategyDetailList,"reportName",e)},expression:"reportStrategyDetailList.reportName"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"reportTitle"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告标题:")]),t._v(" "),r("el-input",{attrs:{size:"small"},model:{value:t.reportStrategyDetailList.reportTitle,callback:function(e){t.$set(t.reportStrategyDetailList,"reportTitle",e)},expression:"reportStrategyDetailList.reportTitle"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"reportHeaderLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("  报告页眉:")]),t._v(" "),t.reportStrategyDetailList.reportHeaderLogo?[r("img",{staticStyle:{width:"70%"},attrs:{src:t.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyDetailList.reportHeaderLogo+"?Authorization="+t.getAuthorization}}),t._v(" "),r("el-upload",{attrs:{action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportHeaderLogo","edit")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("div",{staticClass:"amendUploadImageBtn"},[r("span",[t._v("修改")])])])]:r("el-upload",{attrs:{drag:"",action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportHeaderLogo","edit")},limit:1,"list-type":"picture","on-exceed":t.handleExceed,accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF"}},[r("i",{staticClass:"el-icon-upload"}),t._v(" "),r("div",{staticClass:"el-upload__text"},[t._v("\n                          建议分辨率221*55 "),r("em",[t._v("点击上传")])])])],2),t._v(" "),r("el-form-item",{attrs:{prop:"reportFooterLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("  报告页脚:")]),t._v(" "),t.reportStrategyDetailList.reportFooterLogo?[r("img",{staticStyle:{width:"70%"},attrs:{src:t.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyDetailList.reportFooterLogo+"?Authorization="+t.getAuthorization}}),t._v(" "),r("el-upload",{attrs:{action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportFooterLogo","edit")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("div",{staticClass:"amendUploadImageBtn"},[r("span",[t._v("修改")])])])]:r("el-upload",{attrs:{drag:"",action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportFooterLogo","edit")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("i",{staticClass:"el-icon-upload"}),t._v(" "),r("div",{staticClass:"el-upload__text"},[t._v("\n                          建议分辨率267*26 "),r("em",[t._v("点击上传")])])])],2),t._v(" "),r("el-form-item",{attrs:{prop:"reportCoverLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("  首页logo:")]),t._v(" "),t.reportStrategyDetailList.reportCoverLogo?[r("img",{staticStyle:{width:"70%"},attrs:{src:t.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyDetailList.reportCoverLogo+"?Authorization="+t.getAuthorization}}),t._v(" "),r("el-upload",{attrs:{action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportCoverLogo","edit")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("div",{staticClass:"amendUploadImageBtn"},[r("span",[t._v("修改")])])])]:r("el-upload",{attrs:{drag:"",action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportCoverLogo","edit")},"list-type":"picture",limit:1,accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF"}},[r("i",{staticClass:"el-icon-upload"}),t._v(" "),r("div",{staticClass:"el-upload__text"},[t._v("\n                          建议分辨率321*210 "),r("em",[t._v("点击上传")])])])],2),t._v(" "),r("el-form-item",{attrs:{prop:"reportWatermarkLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("  报告水印:")]),t._v(" "),t.reportStrategyDetailList.reportWatermarkLogo?[r("img",{staticStyle:{width:"70%"},attrs:{src:t.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyDetailList.reportWatermarkLogo+"?Authorization="+t.getAuthorization}}),t._v(" "),r("el-upload",{attrs:{action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportWatermarkLogo","edit")},accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",limit:1,"list-type":"picture","on-exceed":t.handleExceed}},[r("div",{staticClass:"amendUploadImageBtn"},[r("span",[t._v("修改")])])])]:r("el-upload",{attrs:{drag:"",action:"/","http-request":function(e){return t.uploadTaskFile(e,"reportWatermarkLogo","edit")},"list-type":"picture",limit:1,accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF"}},[r("i",{staticClass:"el-icon-upload"}),t._v(" "),r("div",{staticClass:"el-upload__text"},[t._v("\n                          建议分辨率800*600 "),r("em",[t._v("点击上传")])])])],2)],1)]:t._e()],2),t._v(" "),r("div",{staticClass:"el-drawer-footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveEditReportStrategy("reportStrategyDetailList")}}},[t._v("保存")]),t._v(" "),r("el-button",{attrs:{plain:""},on:{click:function(e){return t.cancelEditReportStrategy()}}},[t._v("取消")])],1)]),t._v(" "),r("el-tooltip",{attrs:{effect:"dark",content:"详情",placement:"top-start"}},[r("i",{staticClass:"el-icon-tickets detailIcon",on:{click:function(r){return t.reportDetail(e.row.id)}}})]),t._v(" "),r("el-drawer",{staticClass:"reportStrategyDetailDrawer",attrs:{title:"报告策略详情",visible:t.reportStrategyDetailDrawer,"with-header":!1,wrapperClosable:!1,"close-on-press-escape":!1,"destroy-on-close":!0,size:"35%"},on:{"update:visible":function(e){t.reportStrategyDetailDrawer=e}}},[r("div",{staticClass:"el-drawer-header"},[r("h3",[t._v("报告策略详情")])]),t._v(" "),r("div",{staticClass:"el-drawer-content"},[t.reportStrategyDetailList?[r("el-form",{attrs:{model:t.reportStrategyDetailList}},[r("el-form-item",{attrs:{prop:"templateType"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("模板类型:"),1==t.templateType?r("span",[t._v("Android")]):t._e(),t._v(" "),2==t.templateType?r("span",[t._v("iOS")]):t._e()])]),t._v(" "),r("el-form-item",{attrs:{prop:"templateName"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告模板:"+t._s(t.reportStrategyDetailList.templateName))])]),t._v(" "),r("el-form-item",{attrs:{prop:"reportCorporateName"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("公司名称:"+t._s(t.reportStrategyDetailList.reportCorporateName))])]),t._v(" "),r("el-form-item",{attrs:{prop:"reportName"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告名称:"+t._s(t.reportStrategyDetailList.reportName))])]),t._v(" "),r("el-form-item",{attrs:{prop:"reportTitle"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告标题:"+t._s(t.reportStrategyDetailList.reportTitle))])]),t._v(" "),t.reportStrategyDetailList.reportHeaderLogo?[r("el-form-item",{attrs:{prop:"reportHeaderLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告页眉:")]),t._v(" "),r("img",{staticStyle:{width:"40%"},attrs:{src:t.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyDetailList.reportHeaderLogo+"?Authorization="+t.getAuthorization}})])]:t._e(),t._v(" "),t.reportStrategyDetailList.reportFooterLogo?[r("el-form-item",{attrs:{prop:"reportFooterLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告页脚:")]),t._v(" "),r("img",{staticStyle:{width:"40%"},attrs:{src:t.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyDetailList.reportFooterLogo+"?Authorization="+t.getAuthorization}})])]:t._e(),t._v(" "),t.reportStrategyDetailList.reportCoverLogo?[r("el-form-item",{attrs:{prop:"reportCoverLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("首页logo:")]),t._v(" "),r("img",{staticStyle:{width:"40%"},attrs:{src:t.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyDetailList.reportCoverLogo+"?Authorization="+t.getAuthorization}})])]:t._e(),t._v(" "),t.reportStrategyDetailList.reportWatermarkLogo?[r("el-form-item",{attrs:{prop:"reportWatermarkLogo"}},[r("label",{attrs:{slot:"label"},slot:"label"},[t._v("报告水印:")]),t._v(" "),r("img",{staticStyle:{width:"40%"},attrs:{src:t.api.baseUrl+"/api/common/viewFile/"+t.reportStrategyDetailList.reportWatermarkLogo+"?Authorization="+t.getAuthorization}})])]:t._e()],2)]:t._e()],2),t._v(" "),r("div",{staticClass:"el-drawer-footer"},[r("el-button",{attrs:{plain:""},on:{click:function(e){return t.cancelReportDetail()}}},[t._v("取消")])],1)]),t._v(" "),r("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top-start"}},[r("i",{staticClass:"el-icon-delete deleteIcon",on:{click:function(r){return t.deleteReport(e.row.id)}}})])]}}])})],1)]],2),t._v(" "),r("div",{staticClass:"reportConfigureManagementBase"},[r("pagination",{on:{pageChanged:t.onPageChanged}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"repoerConfigureManagementHeader"},[e("p",[this._v("当前位置:报告模板配置")])])}]};var m=r("VU/8")(c,g,!1,function(t){r("8Ufv")},null,null);e.default=m.exports}});
//# sourceMappingURL=16.140dcd5abbca0d1dc0dc.js.map