{"version":3,"sources":["webpack:///src/components/system/authorizeManagement.vue","webpack:///./src/components/system/authorizeManagement.vue?490f","webpack:///./src/components/system/authorizeManagement.vue"],"names":["authorizeManagement","name","inject","data","listItem","userCode","uploadAuthorizeFileDrawer","beforeMount","_this2","this","api","authorizeService","authorizeManageList","then","res","code","methods","getUserCode","_this3","uploadAuthorize","uploadAuthorizeFile","file","_this4","_this","params","FormData","append","config","onUploadProgress","ProgressEvent","progressEvent","loaded","total","onProgress","percent","uploadService","$notify","message","type","authInfo","userLicencesPath","updateAuthorizeInfo","reload","system_authorizeManagement","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","size","on","click","$event","_s","isAuth","_e","validStartDate","validEndDate","ref","title","visible","with-header","wrapperClosable","close-on-press-escape","destroy-on-close","update:visible","drag","action","limit","http-request","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.b3f009cdcc4555bf295d.js","sourcesContent":["<template>\r\n  <div class=\"authorizeManagement\">\r\n    <div class=\"authorizeManagementHeader\">\r\n      <p>当前位置:授权管理</p>\r\n    </div>\r\n    <div class=\"authorizeBody\">\r\n      <template v-if=\"listItem\">\r\n        <el-button type=\"primary\" @click=\"getUserCode\" size=\"small\"\r\n          >生成注册码</el-button\r\n        >\r\n        <el-button type=\"primary\" size=\"small\" @click=\"uploadAuthorize()\"\r\n          >上传授权文件</el-button\r\n        >\r\n        <p class=\"userCode\"><span class=\"title\">注册码:</span>{{ userCode }}</p>\r\n        <p class=\"isAuthorize\">\r\n          <span class=\"title\">是否授权:</span>\r\n          <span v-if=\"listItem.isAuth == 0\">否</span>\r\n          <span v-if=\"listItem.isAuth == 1\">是</span>\r\n        </p>\r\n        <div\r\n          class=\"authorizeTime\"\r\n          v-if=\"listItem.validStartDate && listItem.validEndDate\"\r\n        >\r\n          <p>\r\n            <span class=\"title\">授权开始时间:</span\r\n            >{{ listItem.validStartDate }}\r\n          </p>\r\n          <p>\r\n            <span class=\"title\">授权结束时间:</span>{{ listItem.validEndDate }}\r\n          </p>\r\n        </div>\r\n        <!-- 上传授权文件 -->\r\n        <el-drawer\r\n          title=\"上传授权文件\"\r\n          :visible.sync=\"uploadAuthorizeFileDrawer\"\r\n          :with-header=\"false\"\r\n          :wrapperClosable=\"false\"\r\n          :close-on-press-escape=\"false\"\r\n          :destroy-on-close=\"true\"\r\n          ref=\"uploadAuthorizeFileDrawer\"\r\n          size=\"40%\"\r\n        >\r\n          <!-- 上传授权文件Drawer头部 -->\r\n          <div class=\"el-drawer-header\">\r\n            <h3>上传授权文件</h3>\r\n          </div>\r\n          <!-- 上传授权文件Drawer主体 -->\r\n          <div class=\"el-drawer-content\">\r\n            <el-upload\r\n              class=\"upload\"\r\n              drag\r\n              action=\"/\"\r\n              :limit=\"1\"\r\n              :http-request=\"uploadAuthorizeFile\"\r\n            >\r\n              <i class=\"el-icon-upload\"></i>\r\n              <div class=\"el-upload__text\">\r\n                将文件拖到此处,或<em>点击上传</em>\r\n              </div>\r\n            </el-upload>\r\n          </div>\r\n          <div class=\"el-drawer-footer\"></div>\r\n        </el-drawer>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport api from \"../request/api\";\r\nexport default {\r\n  name: \"authorizationManagement\",\r\n  inject: [\"reload\"],\r\n  data() {\r\n    return {\r\n      name: \"authorizeManagement\",\r\n      listItem: null,\r\n      userCode: null,\r\n      uploadAuthorizeFileDrawer: false\r\n    };\r\n  },\r\n  beforeMount() {\r\n    api.authorizeService.authorizeManageList().then(res => {\r\n      if (res.code == \"00\") {\r\n        this.listItem = res.data;\r\n        this.userCode = res.data.userCode;\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    //获取userCode\r\n    getUserCode() {\r\n      api.authorizeService.getUserCode().then(res => {\r\n        if (res.code == \"00\") {\r\n          this.userCode = res.data;\r\n        }\r\n      });\r\n    },\r\n    //上传授权文件\r\n    uploadAuthorize() {\r\n      this.uploadAuthorizeFileDrawer = true;\r\n    },\r\n    //上传授权文件开始\r\n    uploadAuthorizeFile(file) {\r\n      const _this = this;\r\n      let params = new FormData();\r\n      params.append(\"file\", file.file);\r\n      //进度条配置\r\n      let config = {\r\n        onUploadProgress: ProgressEvent => {\r\n          let progressEvent =\r\n            ((ProgressEvent.loaded / ProgressEvent.total) * 100) | 0;\r\n          file.onProgress({ percent: progressEvent });\r\n        }\r\n      };\r\n      api.uploadService.uploadAuthorizeFile(params, config).then(res => {\r\n        if (res.code == \"00\") {\r\n          _this.$notify({ message: \"上传授权文件成功!\", type: \"success\" });\r\n          _this.getUserCode();\r\n          const authInfo = {\r\n            userLicencesPath: res.data,\r\n            userCode: this.userCode\r\n          };\r\n          api.authorizeService.updateAuthorizeInfo(authInfo).then(res => {\r\n            if (res.code == \"00\") {\r\n              _this.$notify({ message: \"更新成功!\", type: \"success\" });\r\n              _this.reload();\r\n            }\r\n          });\r\n          this.uploadAuthorizeFileDrawer = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.authorizeManagementHeader {\r\n  height: 50px;\r\n  line-height: 50px;\r\n  font-size: 14px;\r\n}\r\n.authorizeBody {\r\n  height: 500px;\r\n  padding: 10px 20px 30px 20px;\r\n  box-shadow: 0px 0px 10px #0000001a;\r\n  color: #45494c;\r\n  font-size: 14px;\r\n}\r\n.authorizeBody p {\r\n  margin: 20px 0;\r\n}\r\n.authorizeBody .title {\r\n  color: #45494c;\r\n  font-weight: 550;\r\n}\r\n.authorizeBody .userCode {\r\n  word-break: break-all;\r\n  line-height: 25px;\r\n  width: 70%;\r\n}\r\n.authorizeBody span {\r\n  letter-spacing: 4px;\r\n}\r\n.authorizeBody .el-upload {\r\n  width: 100%;\r\n}\r\n.authorizeBody .el-upload-dragger {\r\n  width: 100%;\r\n  height: 230px;\r\n  margin-top: 20px;\r\n}\r\n.authorizeBody .el-drawer-header {\r\n  width: 100%;\r\n  position: fixed;\r\n  background: white;\r\n  z-index: 99;\r\n  height: 50px;\r\n  padding: 17px 20px;\r\n  border-bottom: 1px solid #ebebeb;\r\n}\r\n.authorizeBody .el-drawer-content {\r\n  position: relative;\r\n  padding: 0px 20px 40px 20px;\r\n  margin: 60px 0 40px 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/system/authorizeManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"authorizeManagement\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"authorizeBody\"},[(_vm.listItem)?[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getUserCode}},[_vm._v(\"生成注册码\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.uploadAuthorize()}}},[_vm._v(\"上传授权文件\")]),_vm._v(\" \"),_c('p',{staticClass:\"userCode\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"注册码:\")]),_vm._v(_vm._s(_vm.userCode))]),_vm._v(\" \"),_c('p',{staticClass:\"isAuthorize\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"是否授权:\")]),_vm._v(\" \"),(_vm.listItem.isAuth == 0)?_c('span',[_vm._v(\"否\")]):_vm._e(),_vm._v(\" \"),(_vm.listItem.isAuth == 1)?_c('span',[_vm._v(\"是\")]):_vm._e()]),_vm._v(\" \"),(_vm.listItem.validStartDate && _vm.listItem.validEndDate)?_c('div',{staticClass:\"authorizeTime\"},[_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"授权开始时间:\")]),_vm._v(_vm._s(_vm.listItem.validStartDate)+\"\\n        \")]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"授权结束时间:\")]),_vm._v(_vm._s(_vm.listItem.validEndDate)+\"\\n        \")])]):_vm._e(),_vm._v(\" \"),_c('el-drawer',{ref:\"uploadAuthorizeFileDrawer\",attrs:{\"title\":\"上传授权文件\",\"visible\":_vm.uploadAuthorizeFileDrawer,\"with-header\":false,\"wrapperClosable\":false,\"close-on-press-escape\":false,\"destroy-on-close\":true,\"size\":\"40%\"},on:{\"update:visible\":function($event){_vm.uploadAuthorizeFileDrawer=$event}}},[_c('div',{staticClass:\"el-drawer-header\"},[_c('h3',[_vm._v(\"上传授权文件\")])]),_vm._v(\" \"),_c('div',{staticClass:\"el-drawer-content\"},[_c('el-upload',{staticClass:\"upload\",attrs:{\"drag\":\"\",\"action\":\"/\",\"limit\":1,\"http-request\":_vm.uploadAuthorizeFile}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"\\n              将文件拖到此处,或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"el-drawer-footer\"})])]:_vm._e()],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"authorizeManagementHeader\"},[_c('p',[_vm._v(\"当前位置:授权管理\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14215422\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/system/authorizeManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14215422\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./authorizeManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./authorizeManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./authorizeManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14215422\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./authorizeManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/system/authorizeManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}